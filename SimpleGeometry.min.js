define(function(){"use strict";function s(n){function s(n){for(var r=[],i=t.exec(n);i;)r.push([Number(i[1]),Number(i[2])]),i=t.exec(n);return r}var i,o,u=[],r,f;if(!n)throw new Error("wkt not provided");if(i=n.match(e),i)for(r=0,f=i.length;r<f;r++)u.push(s(i[r]));else o=n.match(t);return u}function h(n){for(var t=[],f,e,i,s,h,u,c,r=0,o=n.length;r<o;r+=1){for(f=n[r],r>0?t.push(","):t.push("("),i=0,s=f.length;i<s;i+=1){for(e=f[i],i>0?t.push(","):t.push("("),u=0,c=e.length;u<c;u+=1)h=e[u],u>0&&t.push(" "),t.push(String(h));i===f.length-1&&t.push(")")}t.push(")")}return t.join("")}function c(n){for(var t=["("],i=0,r=n.length;i<r;i+=1)t.push(n[i].join(" "));return t.push(")"),t.join("")}var t,e,i,r,o,f,u,n;return i="POINT",r="MULTIPOINT",o="LINESTRING",f="MULTILINESTRING",u="POLYGON",e=/\([^()]+\)/g,t=/([\-\d+\.]+)\s+([\-\d+\.]+)/g,n=function(n,e){var c,l,o,h;typeof n=="string"?(c=/^POINT\b/i,h=n.match(/^\w+\b/)[0].toUpperCase(),n.match(c)?(o=t.exec(n),o=[Number(o[1]),Number(o[2])]):(o=s(n),l=/^(?:(?:MULTI)?POINT)|(?:\bLINESTRING)\b/,n.match(l)&&o.length===1&&(o=o[0]))):(n.spatialReference&&(e=n.spatialReference.wkid||null),n.x?(h=i,o=[n.x,n.y]):n.points?(h=r,o=n.points):n.paths?(h=f,o=n.paths):n.rings?(h=u,o=n.rings):typeof n.xmin=="number"&&typeof n.ymin=="number"&&typeof n.xmax=="number"&&typeof n.ymax=="number"&&(h=u,o=[[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]]));this.type=h;this.geometry=o;this.srid=e||null},n.prototype.toString=function(){var n;if(this.geometry)n=this.type===i?["(",this.geometry[0]," ",this.geometry[1],")"].join(""):this.type===r?c(this.geometry):h(this.geometry);else throw new Error("geometry property is not defined.");return[this.type,n].join("")},n.prototype.toSqlConstructor=function(){return this.srid?["geometry::STGeomFromText('",this.toString(),"', ",this.srid,")"].join(""):["geometry::STGeomFromText('",this.toString(),"')"].join("")},n.TYPE_POINT=i,n.TYPE_MULTIPOINT=r,n.TYPE_LINESTRING=o,n.TYPE_MULTILINESTRING=f,n.TYPE_POLYGON=u,n});
//# sourceMappingURL=SimpleGeometry.min.js.map